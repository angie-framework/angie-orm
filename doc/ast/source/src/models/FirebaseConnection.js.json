{
  "type": "Program",
  "body": [
    {
      "type": "Identifier",
      "id": {
        "type": "Identifier",
        "name": "FirebaseConnection",
        "range": [
          545,
          563
        ],
        "loc": {
          "start": {
            "line": 19,
            "column": 6
          },
          "end": {
            "line": 19,
            "column": 24
          }
        }
      },
      "superClass": null,
      "body": {
        "type": "ClassBody",
        "body": [],
        "range": [
          564,
          566
        ],
        "loc": {
          "start": {
            "line": 19,
            "column": 25
          },
          "end": {
            "line": 19,
            "column": 27
          }
        }
      },
      "range": [
        539,
        566
      ],
      "loc": {
        "start": {
          "line": 19,
          "column": 0
        },
        "end": {
          "line": 19,
          "column": 27
        }
      },
      "leadingComments": [
        {
          "type": "Block",
          "value": "*\n * @module FirebaseConnection.js\n * @author Joe Groseclose <@benderTheCrime>\n * @date 8/23/2015\n ",
          "range": [
            0,
            103
          ],
          "loc": {
            "start": {
              "line": 1,
              "column": 0
            },
            "end": {
              "line": 5,
              "column": 3
            }
          }
        },
        {
          "type": "Line",
          "value": " import BaseDBConnection from './BaseDBConnection';",
          "range": [
            105,
            158
          ],
          "loc": {
            "start": {
              "line": 7,
              "column": 0
            },
            "end": {
              "line": 7,
              "column": 53
            }
          }
        },
        {
          "type": "Line",
          "value": " import $LogProvider from 'angie-log/src/services/$LogProvider';",
          "range": [
            159,
            225
          ],
          "loc": {
            "start": {
              "line": 8,
              "column": 0
            },
            "end": {
              "line": 8,
              "column": 66
            }
          }
        },
        {
          "type": "Line",
          "value": " import app from '../Angular';",
          "range": [
            226,
            258
          ],
          "loc": {
            "start": {
              "line": 9,
              "column": 0
            },
            "end": {
              "line": 9,
              "column": 32
            }
          }
        },
        {
          "type": "Line",
          "value": " const Firebase =        require('firebase');",
          "range": [
            260,
            307
          ],
          "loc": {
            "start": {
              "line": 11,
              "column": 0
            },
            "end": {
              "line": 11,
              "column": 47
            }
          }
        },
        {
          "type": "Line",
          "value": " FirebaseTokenGenerator = require(\"firebase-token-generator.js\");",
          "range": [
            314,
            381
          ],
          "loc": {
            "start": {
              "line": 12,
              "column": 6
            },
            "end": {
              "line": 12,
              "column": 73
            }
          }
        },
        {
          "type": "Line",
          "value": " mysql =           require('mysql'),",
          "range": [
            388,
            426
          ],
          "loc": {
            "start": {
              "line": 13,
              "column": 6
            },
            "end": {
              "line": 13,
              "column": 44
            }
          }
        },
        {
          "type": "Line",
          "value": " mkdirp =          require('mkdirp'),",
          "range": [
            433,
            472
          ],
          "loc": {
            "start": {
              "line": 14,
              "column": 6
            },
            "end": {
              "line": 14,
              "column": 45
            }
          }
        },
        {
          "type": "Line",
          "value": " fs =              require('fs');",
          "range": [
            479,
            514
          ],
          "loc": {
            "start": {
              "line": 15,
              "column": 6
            },
            "end": {
              "line": 15,
              "column": 41
            }
          }
        },
        {
          "type": "Line",
          "value": " const p = process;",
          "range": [
            516,
            537
          ],
          "loc": {
            "start": {
              "line": 17,
              "column": 0
            },
            "end": {
              "line": 17,
              "column": 21
            }
          }
        }
      ]
    },
    {
      "type": "ExportDefaultDeclaration",
      "declaration": {
        "type": "ClassDeclaration",
        "id": {
          "type": "Identifier",
          "name": "FirebaseConnection",
          "range": [
            545,
            563
          ],
          "loc": {
            "start": {
              "line": 19,
              "column": 6
            },
            "end": {
              "line": 19,
              "column": 24
            }
          }
        },
        "superClass": null,
        "body": {
          "type": "ClassBody",
          "body": [],
          "range": [
            564,
            566
          ],
          "loc": {
            "start": {
              "line": 19,
              "column": 25
            },
            "end": {
              "line": 19,
              "column": 27
            }
          }
        },
        "range": [
          539,
          566
        ],
        "loc": {
          "start": {
            "line": 19,
            "column": 0
          },
          "end": {
            "line": 19,
            "column": 27
          }
        },
        "leadingComments": [
          {
            "type": "Block",
            "value": "*\n * @module FirebaseConnection.js\n * @author Joe Groseclose <@benderTheCrime>\n * @date 8/23/2015\n ",
            "range": [
              0,
              103
            ],
            "loc": {
              "start": {
                "line": 1,
                "column": 0
              },
              "end": {
                "line": 5,
                "column": 3
              }
            }
          },
          {
            "type": "Line",
            "value": " import BaseDBConnection from './BaseDBConnection';",
            "range": [
              105,
              158
            ],
            "loc": {
              "start": {
                "line": 7,
                "column": 0
              },
              "end": {
                "line": 7,
                "column": 53
              }
            }
          },
          {
            "type": "Line",
            "value": " import $LogProvider from 'angie-log/src/services/$LogProvider';",
            "range": [
              159,
              225
            ],
            "loc": {
              "start": {
                "line": 8,
                "column": 0
              },
              "end": {
                "line": 8,
                "column": 66
              }
            }
          },
          {
            "type": "Line",
            "value": " import app from '../Angular';",
            "range": [
              226,
              258
            ],
            "loc": {
              "start": {
                "line": 9,
                "column": 0
              },
              "end": {
                "line": 9,
                "column": 32
              }
            }
          },
          {
            "type": "Line",
            "value": " const Firebase =        require('firebase');",
            "range": [
              260,
              307
            ],
            "loc": {
              "start": {
                "line": 11,
                "column": 0
              },
              "end": {
                "line": 11,
                "column": 47
              }
            }
          },
          {
            "type": "Line",
            "value": " FirebaseTokenGenerator = require(\"firebase-token-generator.js\");",
            "range": [
              314,
              381
            ],
            "loc": {
              "start": {
                "line": 12,
                "column": 6
              },
              "end": {
                "line": 12,
                "column": 73
              }
            }
          },
          {
            "type": "Line",
            "value": " mysql =           require('mysql'),",
            "range": [
              388,
              426
            ],
            "loc": {
              "start": {
                "line": 13,
                "column": 6
              },
              "end": {
                "line": 13,
                "column": 44
              }
            }
          },
          {
            "type": "Line",
            "value": " mkdirp =          require('mkdirp'),",
            "range": [
              433,
              472
            ],
            "loc": {
              "start": {
                "line": 14,
                "column": 6
              },
              "end": {
                "line": 14,
                "column": 45
              }
            }
          },
          {
            "type": "Line",
            "value": " fs =              require('fs');",
            "range": [
              479,
              514
            ],
            "loc": {
              "start": {
                "line": 15,
                "column": 6
              },
              "end": {
                "line": 15,
                "column": 41
              }
            }
          },
          {
            "type": "Line",
            "value": " const p = process;",
            "range": [
              516,
              537
            ],
            "loc": {
              "start": {
                "line": 17,
                "column": 0
              },
              "end": {
                "line": 17,
                "column": 21
              }
            }
          }
        ],
        "trailingComments": [
          {
            "type": "Line",
            "value": " export default class FirebaseConnection extends BaseDBConnection {",
            "range": [
              603,
              672
            ],
            "loc": {
              "start": {
                "line": 22,
                "column": 0
              },
              "end": {
                "line": 22,
                "column": 69
              }
            }
          },
          {
            "type": "Line",
            "value": "     constructor(database = 'default') {",
            "range": [
              673,
              715
            ],
            "loc": {
              "start": {
                "line": 23,
                "column": 0
              },
              "end": {
                "line": 23,
                "column": 42
              }
            }
          },
          {
            "type": "Line",
            "value": "         super();",
            "range": [
              716,
              735
            ],
            "loc": {
              "start": {
                "line": 24,
                "column": 0
              },
              "end": {
                "line": 24,
                "column": 19
              }
            }
          },
          {
            "type": "Line",
            "value": "         if (checkConfig(this.config.databases[database])) {",
            "range": [
              736,
              798
            ],
            "loc": {
              "start": {
                "line": 25,
                "column": 0
              },
              "end": {
                "line": 25,
                "column": 62
              }
            }
          },
          {
            "type": "Line",
            "value": "             throw new Error();",
            "range": [
              799,
              832
            ],
            "loc": {
              "start": {
                "line": 26,
                "column": 0
              },
              "end": {
                "line": 26,
                "column": 33
              }
            }
          },
          {
            "type": "Line",
            "value": "         } else {",
            "range": [
              833,
              852
            ],
            "loc": {
              "start": {
                "line": 27,
                "column": 0
              },
              "end": {
                "line": 27,
                "column": 19
              }
            }
          },
          {
            "type": "Line",
            "value": "             //this.db = new Firebase(this.config.databases[database].url);",
            "range": [
              853,
              930
            ],
            "loc": {
              "start": {
                "line": 28,
                "column": 0
              },
              "end": {
                "line": 28,
                "column": 77
              }
            }
          },
          {
            "type": "Line",
            "value": "         }",
            "range": [
              931,
              943
            ],
            "loc": {
              "start": {
                "line": 29,
                "column": 0
              },
              "end": {
                "line": 29,
                "column": 12
              }
            }
          },
          {
            "type": "Line",
            "value": "",
            "range": [
              944,
              946
            ],
            "loc": {
              "start": {
                "line": 30,
                "column": 0
              },
              "end": {
                "line": 30,
                "column": 2
              }
            }
          },
          {
            "type": "Line",
            "value": "     }",
            "range": [
              947,
              955
            ],
            "loc": {
              "start": {
                "line": 31,
                "column": 0
              },
              "end": {
                "line": 31,
                "column": 8
              }
            }
          },
          {
            "type": "Line",
            "value": "     read(model) {",
            "range": [
              956,
              976
            ],
            "loc": {
              "start": {
                "line": 32,
                "column": 0
              },
              "end": {
                "line": 32,
                "column": 20
              }
            }
          },
          {
            "type": "Line",
            "value": "         this.db.child(model.name).on('value', function(data) {",
            "range": [
              977,
              1042
            ],
            "loc": {
              "start": {
                "line": 33,
                "column": 0
              },
              "end": {
                "line": 33,
                "column": 65
              }
            }
          },
          {
            "type": "Line",
            "value": "             return data;",
            "range": [
              1043,
              1070
            ],
            "loc": {
              "start": {
                "line": 34,
                "column": 0
              },
              "end": {
                "line": 34,
                "column": 27
              }
            }
          },
          {
            "type": "Line",
            "value": "         });",
            "range": [
              1071,
              1085
            ],
            "loc": {
              "start": {
                "line": 35,
                "column": 0
              },
              "end": {
                "line": 35,
                "column": 14
              }
            }
          },
          {
            "type": "Line",
            "value": "     }",
            "range": [
              1086,
              1094
            ],
            "loc": {
              "start": {
                "line": 36,
                "column": 0
              },
              "end": {
                "line": 36,
                "column": 8
              }
            }
          },
          {
            "type": "Line",
            "value": "     create() {",
            "range": [
              1095,
              1112
            ],
            "loc": {
              "start": {
                "line": 37,
                "column": 0
              },
              "end": {
                "line": 37,
                "column": 17
              }
            }
          },
          {
            "type": "Line",
            "value": "         // model",
            "range": [
              1113,
              1132
            ],
            "loc": {
              "start": {
                "line": 38,
                "column": 0
              },
              "end": {
                "line": 38,
                "column": 19
              }
            }
          },
          {
            "type": "Line",
            "value": "         // let data = this.read(model);",
            "range": [
              1133,
              1175
            ],
            "loc": {
              "start": {
                "line": 39,
                "column": 0
              },
              "end": {
                "line": 39,
                "column": 42
              }
            }
          },
          {
            "type": "Line",
            "value": "",
            "range": [
              1176,
              1178
            ],
            "loc": {
              "start": {
                "line": 40,
                "column": 0
              },
              "end": {
                "line": 40,
                "column": 2
              }
            }
          },
          {
            "type": "Line",
            "value": "         // TODO can you set a specific instance of a model?",
            "range": [
              1179,
              1241
            ],
            "loc": {
              "start": {
                "line": 41,
                "column": 0
              },
              "end": {
                "line": 41,
                "column": 62
              }
            }
          },
          {
            "type": "Line",
            "value": "",
            "range": [
              1242,
              1244
            ],
            "loc": {
              "start": {
                "line": 42,
                "column": 0
              },
              "end": {
                "line": 42,
                "column": 2
              }
            }
          },
          {
            "type": "Line",
            "value": "         //data[data.length] = {};",
            "range": [
              1245,
              1281
            ],
            "loc": {
              "start": {
                "line": 43,
                "column": 0
              },
              "end": {
                "line": 43,
                "column": 36
              }
            }
          },
          {
            "type": "Line",
            "value": "         //this.db.set(data[data.length], {})",
            "range": [
              1282,
              1329
            ],
            "loc": {
              "start": {
                "line": 44,
                "column": 0
              },
              "end": {
                "line": 44,
                "column": 47
              }
            }
          },
          {
            "type": "Line",
            "value": "     }",
            "range": [
              1330,
              1338
            ],
            "loc": {
              "start": {
                "line": 45,
                "column": 0
              },
              "end": {
                "line": 45,
                "column": 8
              }
            }
          },
          {
            "type": "Line",
            "value": "     syncdb() {",
            "range": [
              1339,
              1356
            ],
            "loc": {
              "start": {
                "line": 46,
                "column": 0
              },
              "end": {
                "line": 46,
                "column": 17
              }
            }
          },
          {
            "type": "Line",
            "value": "         super.syncdb();",
            "range": [
              1357,
              1383
            ],
            "loc": {
              "start": {
                "line": 47,
                "column": 0
              },
              "end": {
                "line": 47,
                "column": 26
              }
            }
          },
          {
            "type": "Line",
            "value": "",
            "range": [
              1384,
              1386
            ],
            "loc": {
              "start": {
                "line": 48,
                "column": 0
              },
              "end": {
                "line": 48,
                "column": 2
              }
            }
          },
          {
            "type": "Line",
            "value": "         // You do not have to do much to syncdb here",
            "range": [
              1387,
              1442
            ],
            "loc": {
              "start": {
                "line": 49,
                "column": 0
              },
              "end": {
                "line": 49,
                "column": 55
              }
            }
          },
          {
            "type": "Line",
            "value": "         // TODO add empty fields fore records added",
            "range": [
              1443,
              1497
            ],
            "loc": {
              "start": {
                "line": 50,
                "column": 0
              },
              "end": {
                "line": 50,
                "column": 54
              }
            }
          },
          {
            "type": "Line",
            "value": "     }",
            "range": [
              1498,
              1506
            ],
            "loc": {
              "start": {
                "line": 51,
                "column": 0
              },
              "end": {
                "line": 51,
                "column": 8
              }
            }
          },
          {
            "type": "Line",
            "value": " }",
            "range": [
              1507,
              1511
            ],
            "loc": {
              "start": {
                "line": 52,
                "column": 0
              },
              "end": {
                "line": 52,
                "column": 4
              }
            }
          },
          {
            "type": "Line",
            "value": "",
            "range": [
              1512,
              1514
            ],
            "loc": {
              "start": {
                "line": 53,
                "column": 0
              },
              "end": {
                "line": 53,
                "column": 2
              }
            }
          },
          {
            "type": "Line",
            "value": " function checkConfig(db) {",
            "range": [
              1515,
              1544
            ],
            "loc": {
              "start": {
                "line": 54,
                "column": 0
              },
              "end": {
                "line": 54,
                "column": 29
              }
            }
          },
          {
            "type": "Line",
            "value": "     return !db.url;",
            "range": [
              1545,
              1567
            ],
            "loc": {
              "start": {
                "line": 55,
                "column": 0
              },
              "end": {
                "line": 55,
                "column": 22
              }
            }
          },
          {
            "type": "Line",
            "value": " }",
            "range": [
              1568,
              1572
            ],
            "loc": {
              "start": {
                "line": 56,
                "column": 0
              },
              "end": {
                "line": 56,
                "column": 4
              }
            }
          },
          {
            "type": "Line",
            "value": " TODO security around this connection",
            "range": [
              1574,
              1613
            ],
            "loc": {
              "start": {
                "line": 58,
                "column": 0
              },
              "end": {
                "line": 58,
                "column": 39
              }
            }
          },
          {
            "type": "Line",
            "value": " Firebase is a little different",
            "range": [
              1615,
              1648
            ],
            "loc": {
              "start": {
                "line": 60,
                "column": 0
              },
              "end": {
                "line": 60,
                "column": 33
              }
            }
          },
          {
            "type": "Line",
            "value": " The data is basically just kvps",
            "range": [
              1653,
              1687
            ],
            "loc": {
              "start": {
                "line": 61,
                "column": 4
              },
              "end": {
                "line": 61,
                "column": 38
              }
            }
          },
          {
            "type": "Line",
            "value": " We need to create one big list per model",
            "range": [
              1692,
              1735
            ],
            "loc": {
              "start": {
                "line": 62,
                "column": 4
              },
              "end": {
                "line": 62,
                "column": 47
              }
            }
          }
        ]
      },
      "range": [
        567,
        601
      ],
      "loc": {
        "start": {
          "line": 20,
          "column": 0
        },
        "end": {
          "line": 20,
          "column": 34
        }
      },
      "trailingComments": [
        {
          "type": "Line",
          "value": " export default class FirebaseConnection extends BaseDBConnection {",
          "range": [
            603,
            672
          ],
          "loc": {
            "start": {
              "line": 22,
              "column": 0
            },
            "end": {
              "line": 22,
              "column": 69
            }
          }
        },
        {
          "type": "Line",
          "value": "     constructor(database = 'default') {",
          "range": [
            673,
            715
          ],
          "loc": {
            "start": {
              "line": 23,
              "column": 0
            },
            "end": {
              "line": 23,
              "column": 42
            }
          }
        },
        {
          "type": "Line",
          "value": "         super();",
          "range": [
            716,
            735
          ],
          "loc": {
            "start": {
              "line": 24,
              "column": 0
            },
            "end": {
              "line": 24,
              "column": 19
            }
          }
        },
        {
          "type": "Line",
          "value": "         if (checkConfig(this.config.databases[database])) {",
          "range": [
            736,
            798
          ],
          "loc": {
            "start": {
              "line": 25,
              "column": 0
            },
            "end": {
              "line": 25,
              "column": 62
            }
          }
        },
        {
          "type": "Line",
          "value": "             throw new Error();",
          "range": [
            799,
            832
          ],
          "loc": {
            "start": {
              "line": 26,
              "column": 0
            },
            "end": {
              "line": 26,
              "column": 33
            }
          }
        },
        {
          "type": "Line",
          "value": "         } else {",
          "range": [
            833,
            852
          ],
          "loc": {
            "start": {
              "line": 27,
              "column": 0
            },
            "end": {
              "line": 27,
              "column": 19
            }
          }
        },
        {
          "type": "Line",
          "value": "             //this.db = new Firebase(this.config.databases[database].url);",
          "range": [
            853,
            930
          ],
          "loc": {
            "start": {
              "line": 28,
              "column": 0
            },
            "end": {
              "line": 28,
              "column": 77
            }
          }
        },
        {
          "type": "Line",
          "value": "         }",
          "range": [
            931,
            943
          ],
          "loc": {
            "start": {
              "line": 29,
              "column": 0
            },
            "end": {
              "line": 29,
              "column": 12
            }
          }
        },
        {
          "type": "Line",
          "value": "",
          "range": [
            944,
            946
          ],
          "loc": {
            "start": {
              "line": 30,
              "column": 0
            },
            "end": {
              "line": 30,
              "column": 2
            }
          }
        },
        {
          "type": "Line",
          "value": "     }",
          "range": [
            947,
            955
          ],
          "loc": {
            "start": {
              "line": 31,
              "column": 0
            },
            "end": {
              "line": 31,
              "column": 8
            }
          }
        },
        {
          "type": "Line",
          "value": "     read(model) {",
          "range": [
            956,
            976
          ],
          "loc": {
            "start": {
              "line": 32,
              "column": 0
            },
            "end": {
              "line": 32,
              "column": 20
            }
          }
        },
        {
          "type": "Line",
          "value": "         this.db.child(model.name).on('value', function(data) {",
          "range": [
            977,
            1042
          ],
          "loc": {
            "start": {
              "line": 33,
              "column": 0
            },
            "end": {
              "line": 33,
              "column": 65
            }
          }
        },
        {
          "type": "Line",
          "value": "             return data;",
          "range": [
            1043,
            1070
          ],
          "loc": {
            "start": {
              "line": 34,
              "column": 0
            },
            "end": {
              "line": 34,
              "column": 27
            }
          }
        },
        {
          "type": "Line",
          "value": "         });",
          "range": [
            1071,
            1085
          ],
          "loc": {
            "start": {
              "line": 35,
              "column": 0
            },
            "end": {
              "line": 35,
              "column": 14
            }
          }
        },
        {
          "type": "Line",
          "value": "     }",
          "range": [
            1086,
            1094
          ],
          "loc": {
            "start": {
              "line": 36,
              "column": 0
            },
            "end": {
              "line": 36,
              "column": 8
            }
          }
        },
        {
          "type": "Line",
          "value": "     create() {",
          "range": [
            1095,
            1112
          ],
          "loc": {
            "start": {
              "line": 37,
              "column": 0
            },
            "end": {
              "line": 37,
              "column": 17
            }
          }
        },
        {
          "type": "Line",
          "value": "         // model",
          "range": [
            1113,
            1132
          ],
          "loc": {
            "start": {
              "line": 38,
              "column": 0
            },
            "end": {
              "line": 38,
              "column": 19
            }
          }
        },
        {
          "type": "Line",
          "value": "         // let data = this.read(model);",
          "range": [
            1133,
            1175
          ],
          "loc": {
            "start": {
              "line": 39,
              "column": 0
            },
            "end": {
              "line": 39,
              "column": 42
            }
          }
        },
        {
          "type": "Line",
          "value": "",
          "range": [
            1176,
            1178
          ],
          "loc": {
            "start": {
              "line": 40,
              "column": 0
            },
            "end": {
              "line": 40,
              "column": 2
            }
          }
        },
        {
          "type": "Line",
          "value": "         // TODO can you set a specific instance of a model?",
          "range": [
            1179,
            1241
          ],
          "loc": {
            "start": {
              "line": 41,
              "column": 0
            },
            "end": {
              "line": 41,
              "column": 62
            }
          }
        },
        {
          "type": "Line",
          "value": "",
          "range": [
            1242,
            1244
          ],
          "loc": {
            "start": {
              "line": 42,
              "column": 0
            },
            "end": {
              "line": 42,
              "column": 2
            }
          }
        },
        {
          "type": "Line",
          "value": "         //data[data.length] = {};",
          "range": [
            1245,
            1281
          ],
          "loc": {
            "start": {
              "line": 43,
              "column": 0
            },
            "end": {
              "line": 43,
              "column": 36
            }
          }
        },
        {
          "type": "Line",
          "value": "         //this.db.set(data[data.length], {})",
          "range": [
            1282,
            1329
          ],
          "loc": {
            "start": {
              "line": 44,
              "column": 0
            },
            "end": {
              "line": 44,
              "column": 47
            }
          }
        },
        {
          "type": "Line",
          "value": "     }",
          "range": [
            1330,
            1338
          ],
          "loc": {
            "start": {
              "line": 45,
              "column": 0
            },
            "end": {
              "line": 45,
              "column": 8
            }
          }
        },
        {
          "type": "Line",
          "value": "     syncdb() {",
          "range": [
            1339,
            1356
          ],
          "loc": {
            "start": {
              "line": 46,
              "column": 0
            },
            "end": {
              "line": 46,
              "column": 17
            }
          }
        },
        {
          "type": "Line",
          "value": "         super.syncdb();",
          "range": [
            1357,
            1383
          ],
          "loc": {
            "start": {
              "line": 47,
              "column": 0
            },
            "end": {
              "line": 47,
              "column": 26
            }
          }
        },
        {
          "type": "Line",
          "value": "",
          "range": [
            1384,
            1386
          ],
          "loc": {
            "start": {
              "line": 48,
              "column": 0
            },
            "end": {
              "line": 48,
              "column": 2
            }
          }
        },
        {
          "type": "Line",
          "value": "         // You do not have to do much to syncdb here",
          "range": [
            1387,
            1442
          ],
          "loc": {
            "start": {
              "line": 49,
              "column": 0
            },
            "end": {
              "line": 49,
              "column": 55
            }
          }
        },
        {
          "type": "Line",
          "value": "         // TODO add empty fields fore records added",
          "range": [
            1443,
            1497
          ],
          "loc": {
            "start": {
              "line": 50,
              "column": 0
            },
            "end": {
              "line": 50,
              "column": 54
            }
          }
        },
        {
          "type": "Line",
          "value": "     }",
          "range": [
            1498,
            1506
          ],
          "loc": {
            "start": {
              "line": 51,
              "column": 0
            },
            "end": {
              "line": 51,
              "column": 8
            }
          }
        },
        {
          "type": "Line",
          "value": " }",
          "range": [
            1507,
            1511
          ],
          "loc": {
            "start": {
              "line": 52,
              "column": 0
            },
            "end": {
              "line": 52,
              "column": 4
            }
          }
        },
        {
          "type": "Line",
          "value": "",
          "range": [
            1512,
            1514
          ],
          "loc": {
            "start": {
              "line": 53,
              "column": 0
            },
            "end": {
              "line": 53,
              "column": 2
            }
          }
        },
        {
          "type": "Line",
          "value": " function checkConfig(db) {",
          "range": [
            1515,
            1544
          ],
          "loc": {
            "start": {
              "line": 54,
              "column": 0
            },
            "end": {
              "line": 54,
              "column": 29
            }
          }
        },
        {
          "type": "Line",
          "value": "     return !db.url;",
          "range": [
            1545,
            1567
          ],
          "loc": {
            "start": {
              "line": 55,
              "column": 0
            },
            "end": {
              "line": 55,
              "column": 22
            }
          }
        },
        {
          "type": "Line",
          "value": " }",
          "range": [
            1568,
            1572
          ],
          "loc": {
            "start": {
              "line": 56,
              "column": 0
            },
            "end": {
              "line": 56,
              "column": 4
            }
          }
        },
        {
          "type": "Line",
          "value": " TODO security around this connection",
          "range": [
            1574,
            1613
          ],
          "loc": {
            "start": {
              "line": 58,
              "column": 0
            },
            "end": {
              "line": 58,
              "column": 39
            }
          }
        },
        {
          "type": "Line",
          "value": " Firebase is a little different",
          "range": [
            1615,
            1648
          ],
          "loc": {
            "start": {
              "line": 60,
              "column": 0
            },
            "end": {
              "line": 60,
              "column": 33
            }
          }
        },
        {
          "type": "Line",
          "value": " The data is basically just kvps",
          "range": [
            1653,
            1687
          ],
          "loc": {
            "start": {
              "line": 61,
              "column": 4
            },
            "end": {
              "line": 61,
              "column": 38
            }
          }
        },
        {
          "type": "Line",
          "value": " We need to create one big list per model",
          "range": [
            1692,
            1735
          ],
          "loc": {
            "start": {
              "line": 62,
              "column": 4
            },
            "end": {
              "line": 62,
              "column": 47
            }
          }
        }
      ]
    }
  ],
  "sourceType": "module",
  "range": [
    539,
    601
  ],
  "loc": {
    "start": {
      "line": 19,
      "column": 0
    },
    "end": {
      "line": 20,
      "column": 34
    }
  },
  "comments": [
    {
      "type": "Block",
      "value": "*\n * @module FirebaseConnection.js\n * @author Joe Groseclose <@benderTheCrime>\n * @date 8/23/2015\n ",
      "range": [
        0,
        103
      ],
      "loc": {
        "start": {
          "line": 1,
          "column": 0
        },
        "end": {
          "line": 5,
          "column": 3
        }
      }
    },
    {
      "type": "Line",
      "value": " import BaseDBConnection from './BaseDBConnection';",
      "range": [
        105,
        158
      ],
      "loc": {
        "start": {
          "line": 7,
          "column": 0
        },
        "end": {
          "line": 7,
          "column": 53
        }
      }
    },
    {
      "type": "Line",
      "value": " import $LogProvider from 'angie-log/src/services/$LogProvider';",
      "range": [
        159,
        225
      ],
      "loc": {
        "start": {
          "line": 8,
          "column": 0
        },
        "end": {
          "line": 8,
          "column": 66
        }
      }
    },
    {
      "type": "Line",
      "value": " import app from '../Angular';",
      "range": [
        226,
        258
      ],
      "loc": {
        "start": {
          "line": 9,
          "column": 0
        },
        "end": {
          "line": 9,
          "column": 32
        }
      }
    },
    {
      "type": "Line",
      "value": " const Firebase =        require('firebase');",
      "range": [
        260,
        307
      ],
      "loc": {
        "start": {
          "line": 11,
          "column": 0
        },
        "end": {
          "line": 11,
          "column": 47
        }
      }
    },
    {
      "type": "Line",
      "value": " FirebaseTokenGenerator = require(\"firebase-token-generator.js\");",
      "range": [
        314,
        381
      ],
      "loc": {
        "start": {
          "line": 12,
          "column": 6
        },
        "end": {
          "line": 12,
          "column": 73
        }
      }
    },
    {
      "type": "Line",
      "value": " mysql =           require('mysql'),",
      "range": [
        388,
        426
      ],
      "loc": {
        "start": {
          "line": 13,
          "column": 6
        },
        "end": {
          "line": 13,
          "column": 44
        }
      }
    },
    {
      "type": "Line",
      "value": " mkdirp =          require('mkdirp'),",
      "range": [
        433,
        472
      ],
      "loc": {
        "start": {
          "line": 14,
          "column": 6
        },
        "end": {
          "line": 14,
          "column": 45
        }
      }
    },
    {
      "type": "Line",
      "value": " fs =              require('fs');",
      "range": [
        479,
        514
      ],
      "loc": {
        "start": {
          "line": 15,
          "column": 6
        },
        "end": {
          "line": 15,
          "column": 41
        }
      }
    },
    {
      "type": "Line",
      "value": " const p = process;",
      "range": [
        516,
        537
      ],
      "loc": {
        "start": {
          "line": 17,
          "column": 0
        },
        "end": {
          "line": 17,
          "column": 21
        }
      }
    },
    {
      "type": "Line",
      "value": " export default class FirebaseConnection extends BaseDBConnection {",
      "range": [
        603,
        672
      ],
      "loc": {
        "start": {
          "line": 22,
          "column": 0
        },
        "end": {
          "line": 22,
          "column": 69
        }
      }
    },
    {
      "type": "Line",
      "value": "     constructor(database = 'default') {",
      "range": [
        673,
        715
      ],
      "loc": {
        "start": {
          "line": 23,
          "column": 0
        },
        "end": {
          "line": 23,
          "column": 42
        }
      }
    },
    {
      "type": "Line",
      "value": "         super();",
      "range": [
        716,
        735
      ],
      "loc": {
        "start": {
          "line": 24,
          "column": 0
        },
        "end": {
          "line": 24,
          "column": 19
        }
      }
    },
    {
      "type": "Line",
      "value": "         if (checkConfig(this.config.databases[database])) {",
      "range": [
        736,
        798
      ],
      "loc": {
        "start": {
          "line": 25,
          "column": 0
        },
        "end": {
          "line": 25,
          "column": 62
        }
      }
    },
    {
      "type": "Line",
      "value": "             throw new Error();",
      "range": [
        799,
        832
      ],
      "loc": {
        "start": {
          "line": 26,
          "column": 0
        },
        "end": {
          "line": 26,
          "column": 33
        }
      }
    },
    {
      "type": "Line",
      "value": "         } else {",
      "range": [
        833,
        852
      ],
      "loc": {
        "start": {
          "line": 27,
          "column": 0
        },
        "end": {
          "line": 27,
          "column": 19
        }
      }
    },
    {
      "type": "Line",
      "value": "             //this.db = new Firebase(this.config.databases[database].url);",
      "range": [
        853,
        930
      ],
      "loc": {
        "start": {
          "line": 28,
          "column": 0
        },
        "end": {
          "line": 28,
          "column": 77
        }
      }
    },
    {
      "type": "Line",
      "value": "         }",
      "range": [
        931,
        943
      ],
      "loc": {
        "start": {
          "line": 29,
          "column": 0
        },
        "end": {
          "line": 29,
          "column": 12
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        944,
        946
      ],
      "loc": {
        "start": {
          "line": 30,
          "column": 0
        },
        "end": {
          "line": 30,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "     }",
      "range": [
        947,
        955
      ],
      "loc": {
        "start": {
          "line": 31,
          "column": 0
        },
        "end": {
          "line": 31,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "     read(model) {",
      "range": [
        956,
        976
      ],
      "loc": {
        "start": {
          "line": 32,
          "column": 0
        },
        "end": {
          "line": 32,
          "column": 20
        }
      }
    },
    {
      "type": "Line",
      "value": "         this.db.child(model.name).on('value', function(data) {",
      "range": [
        977,
        1042
      ],
      "loc": {
        "start": {
          "line": 33,
          "column": 0
        },
        "end": {
          "line": 33,
          "column": 65
        }
      }
    },
    {
      "type": "Line",
      "value": "             return data;",
      "range": [
        1043,
        1070
      ],
      "loc": {
        "start": {
          "line": 34,
          "column": 0
        },
        "end": {
          "line": 34,
          "column": 27
        }
      }
    },
    {
      "type": "Line",
      "value": "         });",
      "range": [
        1071,
        1085
      ],
      "loc": {
        "start": {
          "line": 35,
          "column": 0
        },
        "end": {
          "line": 35,
          "column": 14
        }
      }
    },
    {
      "type": "Line",
      "value": "     }",
      "range": [
        1086,
        1094
      ],
      "loc": {
        "start": {
          "line": 36,
          "column": 0
        },
        "end": {
          "line": 36,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "     create() {",
      "range": [
        1095,
        1112
      ],
      "loc": {
        "start": {
          "line": 37,
          "column": 0
        },
        "end": {
          "line": 37,
          "column": 17
        }
      }
    },
    {
      "type": "Line",
      "value": "         // model",
      "range": [
        1113,
        1132
      ],
      "loc": {
        "start": {
          "line": 38,
          "column": 0
        },
        "end": {
          "line": 38,
          "column": 19
        }
      }
    },
    {
      "type": "Line",
      "value": "         // let data = this.read(model);",
      "range": [
        1133,
        1175
      ],
      "loc": {
        "start": {
          "line": 39,
          "column": 0
        },
        "end": {
          "line": 39,
          "column": 42
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1176,
        1178
      ],
      "loc": {
        "start": {
          "line": 40,
          "column": 0
        },
        "end": {
          "line": 40,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "         // TODO can you set a specific instance of a model?",
      "range": [
        1179,
        1241
      ],
      "loc": {
        "start": {
          "line": 41,
          "column": 0
        },
        "end": {
          "line": 41,
          "column": 62
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1242,
        1244
      ],
      "loc": {
        "start": {
          "line": 42,
          "column": 0
        },
        "end": {
          "line": 42,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "         //data[data.length] = {};",
      "range": [
        1245,
        1281
      ],
      "loc": {
        "start": {
          "line": 43,
          "column": 0
        },
        "end": {
          "line": 43,
          "column": 36
        }
      }
    },
    {
      "type": "Line",
      "value": "         //this.db.set(data[data.length], {})",
      "range": [
        1282,
        1329
      ],
      "loc": {
        "start": {
          "line": 44,
          "column": 0
        },
        "end": {
          "line": 44,
          "column": 47
        }
      }
    },
    {
      "type": "Line",
      "value": "     }",
      "range": [
        1330,
        1338
      ],
      "loc": {
        "start": {
          "line": 45,
          "column": 0
        },
        "end": {
          "line": 45,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "     syncdb() {",
      "range": [
        1339,
        1356
      ],
      "loc": {
        "start": {
          "line": 46,
          "column": 0
        },
        "end": {
          "line": 46,
          "column": 17
        }
      }
    },
    {
      "type": "Line",
      "value": "         super.syncdb();",
      "range": [
        1357,
        1383
      ],
      "loc": {
        "start": {
          "line": 47,
          "column": 0
        },
        "end": {
          "line": 47,
          "column": 26
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1384,
        1386
      ],
      "loc": {
        "start": {
          "line": 48,
          "column": 0
        },
        "end": {
          "line": 48,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "         // You do not have to do much to syncdb here",
      "range": [
        1387,
        1442
      ],
      "loc": {
        "start": {
          "line": 49,
          "column": 0
        },
        "end": {
          "line": 49,
          "column": 55
        }
      }
    },
    {
      "type": "Line",
      "value": "         // TODO add empty fields fore records added",
      "range": [
        1443,
        1497
      ],
      "loc": {
        "start": {
          "line": 50,
          "column": 0
        },
        "end": {
          "line": 50,
          "column": 54
        }
      }
    },
    {
      "type": "Line",
      "value": "     }",
      "range": [
        1498,
        1506
      ],
      "loc": {
        "start": {
          "line": 51,
          "column": 0
        },
        "end": {
          "line": 51,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": " }",
      "range": [
        1507,
        1511
      ],
      "loc": {
        "start": {
          "line": 52,
          "column": 0
        },
        "end": {
          "line": 52,
          "column": 4
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1512,
        1514
      ],
      "loc": {
        "start": {
          "line": 53,
          "column": 0
        },
        "end": {
          "line": 53,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": " function checkConfig(db) {",
      "range": [
        1515,
        1544
      ],
      "loc": {
        "start": {
          "line": 54,
          "column": 0
        },
        "end": {
          "line": 54,
          "column": 29
        }
      }
    },
    {
      "type": "Line",
      "value": "     return !db.url;",
      "range": [
        1545,
        1567
      ],
      "loc": {
        "start": {
          "line": 55,
          "column": 0
        },
        "end": {
          "line": 55,
          "column": 22
        }
      }
    },
    {
      "type": "Line",
      "value": " }",
      "range": [
        1568,
        1572
      ],
      "loc": {
        "start": {
          "line": 56,
          "column": 0
        },
        "end": {
          "line": 56,
          "column": 4
        }
      }
    },
    {
      "type": "Line",
      "value": " TODO security around this connection",
      "range": [
        1574,
        1613
      ],
      "loc": {
        "start": {
          "line": 58,
          "column": 0
        },
        "end": {
          "line": 58,
          "column": 39
        }
      }
    },
    {
      "type": "Line",
      "value": " Firebase is a little different",
      "range": [
        1615,
        1648
      ],
      "loc": {
        "start": {
          "line": 60,
          "column": 0
        },
        "end": {
          "line": 60,
          "column": 33
        }
      }
    },
    {
      "type": "Line",
      "value": " The data is basically just kvps",
      "range": [
        1653,
        1687
      ],
      "loc": {
        "start": {
          "line": 61,
          "column": 4
        },
        "end": {
          "line": 61,
          "column": 38
        }
      }
    },
    {
      "type": "Line",
      "value": " We need to create one big list per model",
      "range": [
        1692,
        1735
      ],
      "loc": {
        "start": {
          "line": 62,
          "column": 4
        },
        "end": {
          "line": 62,
          "column": 47
        }
      }
    }
  ]
}